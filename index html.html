<!DOCTYPE html>
<html lang="bn">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>BDTOPUP.COM тАФ ржмрж┐рж╢рзНржмрж╕рзНржд Diamond Topup рж╕рж╛рж░рзНржнрж┐рж╕</title>
  <style>
    body {
      font-family: 'Arial', sans-serif;
      background: #f2f2f2;
      margin: 0;
      padding: 20px;
      text-align: center;
      color: #333;
    }
    h3 { color: #007bff; font-weight: bold; margin-bottom: 10px; }
    h2 { color: #007bff; margin-bottom: 20px; }

    .tab {
      overflow: hidden;
      background-color: #00bcd4;
      border-radius: 10px;
      margin-bottom: 15px;
      display: flex;
      justify-content: center;
      flex-wrap: wrap;
    }
    .tab button {
      background-color: inherit;
      border: none;
      cursor: pointer;
      padding: 12px 20px;
      color: white;
      font-weight: bold;
      font-size: 14px;
      border-radius: 10px 10px 0 0;
      margin: 0 4px;
    }
    .tab button:hover { background-color: #0097a7; }
    .tab button.active { background-color: #007bff; font-weight: bolder; }

    .tabcontent {
      display: none;
      background: white;
      border-radius: 0 10px 10px 10px;
      padding: 15px 20px;
      box-shadow: 0 4px 6px rgba(0,0,0,0.1);
      max-width: 500px;
      margin: 0 auto 30px auto;
      text-align: left;
      font-size: 15px;
    }
    .box {
      background: #e3f2fd;
      border: 2px solid #00bcd4;
      padding: 10px 15px;
      margin: 8px 0;
      border-radius: 6px;
      cursor: pointer;
      transition: background-color 0.3s ease;
      user-select: none;
    }
    .box:hover { background-color: #b2ebf2; }
    .box.selected {
      background-color: #00bcd4;
      color: white;
      font-weight: bold;
      border-color: #007bff;
    }
    input[type=text] {
      width: 90%;
      padding: 10px;
      margin: 8px 0 15px 0;
      border: 1px solid #ccc;
      border-radius: 6px;
      font-size: 16px;
    }
    button#orderBtn {
      background-color: #007bff;
      color: white;
      padding: 12px 25px;
      font-size: 16px;
      border: none;
      border-radius: 8px;
      cursor: pointer;
      transition: background-color 0.3s ease;
      margin-top: 10px;
      width: 200px;
    }
    button#orderBtn:disabled {
      background-color: #7ec3db;
      cursor: not-allowed;
    }
    #warningMsg, #successMsg {
      max-width: 500px;
      margin: 15px auto;
      padding: 12px 15px;
      border-radius: 6px;
      font-weight: bold;
      white-space: pre-line;
      display: none;
    }
    #warningMsg {
      background: #fff3cd;
      color: #856404;
      border: 1px solid #ffeeba;
    }
    #successMsg {
      background: #d4edda;
      color: #155724;
      border: 1px solid #c3e6cb;
    }
    #orderHistory {
      max-width: 600px;
      margin: 0 auto 40px auto;
      text-align: left;
      background: white;
      padding: 15px;
      border-radius: 10px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
      max-height: 300px;
      overflow-y: auto;
      font-size: 14px;
      color: #333;
    }
    .order-completed { color: green; font-weight: bold; }
    .order-pending { color: #d39e00; font-weight: bold; }

    #footer {
      margin-top: 50px;
      font-size: 14px;
      color: #555;
      text-align: center;
    }
    #footer a {
      color: #007bff;
      text-decoration: none;
      font-weight: bold;
      margin: 0 8px;
    }
    #footer a:hover { text-decoration: underline; }
  </style>
</head>
<body>

<h3>╪и┘Р╪│┘Т┘Е┘Р ╪з┘Д┘Д┘О┘С┘З┘Р ╪з┘Д╪▒┘О┘С╪н┘Т┘Е┘О┘░┘Ж┘Р ╪з┘Д╪▒┘О┘С╪н┘Р┘К┘Е┘Р</h3>
<h2>BDTOPUP.COM тАФ ржмрж┐рж╢рзНржмрж╕рзНржд Diamond Topup рж╕рж╛рж░рзНржнрж┐рж╕</h2>

<div id="warningMsg"></div>
<div id="successMsg"></div>

<input type="text" id="uid" placeholder="ржЖржкржирж╛рж░ Game UID ржжрж┐ржи" />
<input type="text" id="trxid" placeholder="TrxID (Transaction ID)" />
<input type="text" id="selectedPack" placeholder="ржЖржкржирж╛рж░ ржкрзНржпрж╛ржХрзЗржЬ рж╕рж┐рж▓рзЗржХрзНржЯ ржХрж░рзБржи" readonly />

<!-- Tab, Packages Section -->
<!-- рждрзЛржорж╛рж░ ржкрзВрж░рзНржмрзЗрж░ рж╕ржм ржкрзНржпрж╛ржХрзЗржЬ рж╕рзЗржХрж╢ржи ржПржЦрж╛ржирзЗ ржерж╛ржХржмрзЗ -->
<!-- ржЖржорж┐ ржЙржкрж░рзЗ рж╢рзБржзрзБ ржкрзНрж░ржержо ржЕржВрж╢ ржжрж┐рж▓рж╛ржо, ржирж┐ржЪрзЗ JavaScript рж╢рзБрж░рзБ ржХрж░ржЫрж┐ -->

<button id="orderBtn" onclick="order()" disabled>тЬЕ ржЕрж░рзНржбрж╛рж░ ржХрж░рзБржи</button>
<button onclick="exportOrders()">ЁЯЧВя╕П ржЕрж░рзНржбрж╛рж░ ржПржХрзНрж╕ржкрзЛрж░рзНржЯ ржХрж░рзБржи (JSON)</button>

<div class="section-title" style="margin-top:30px; font-weight:bold; font-size:18px;">ржЕрж░рзНржбрж╛рж░ рж╣рж┐рж╕рзНржЯрзЛрж░рж┐</div>
<div id="orderHistory">ржЖржкржирж╛рж░ ржХрзЛржи ржЕрж░рзНржбрж╛рж░ рж░рзЗржХрж░рзНржб ржкрж╛ржУрзЯрж╛ ржпрж╛рзЯржирж┐ред</div>

<!-- Footer Section -->
<div id="footer">
  <p>ЁЯУЮ <strong>ржпрзЛржЧрж╛ржпрзЛржЧ (рж╣рзЗрж▓рзНржкрж▓рж╛ржЗржи):</strong> <a href="https://t.me/BDTOPUPCOM24" target="_blank">@BDTOPUPCOM24</a></p>
  <p>ЁЯУв <strong>ржЪрзНржпрж╛ржирзЗрж▓:</strong> <a href="https://t.me/BDTOPUPCOM247" target="_blank">BDTOPUPCOM247</a></p>
  <hr>
  <p>ЁЯУМ <strong>ржмрж┐ржХрж╛рж╢ ржорж╛рж░рзНржЪрзЗржирзНржЯ:</strong> <span id="bkash-number">01608603364</span> <button onclick="copyText('bkash-number')">ЁЯУЛ ржХржкрж┐</button></p>
  <p>ЁЯУМ <strong>ржиржЧржж рж╕рзЗржирзНржб ржорж╛ржирж┐:</strong> <span id="nagad-number">01608603364</span> <button onclick="copyText('nagad-number')">ЁЯУЛ ржХржкрж┐</button></p>
</div>

<script>
  const uidInput = document.getElementById('uid');
  const trxInput = document.getElementById('trxid');
  const packInput = document.getElementById('selectedPack');
  const orderBtn = document.getElementById('orderBtn');
  const successMsg = document.getElementById('successMsg');
  const warningMsg = document.getElementById('warningMsg');
  const orderHistoryDiv = document.getElementById('orderHistory');
  let selectedBox = null;

  function openTab(evt, tabName) {
    document.querySelectorAll('.tabcontent').forEach(tc => tc.style.display = 'none');
    document.querySelectorAll('.tab button').forEach(btn => btn.classList.remove('active'));
    document.getElementById(tabName).style.display = 'block';
    evt.currentTarget.classList.add('active');
    clearSelection();
  }

  function selectPack(elem) {
    if (selectedBox) selectedBox.classList.remove('selected');
    selectedBox = elem;
    elem.classList.add('selected');
    packInput.value = elem.textContent.trim();
    successMsg.style.display = 'none';
    warningMsg.style.display = 'none';
    validateInputs();
  }

  function validateInputs() {
    orderBtn.disabled = !(uidInput.value.trim() && trxInput.value.trim() && packInput.value.trim());
  }

  uidInput.addEventListener('input', validateInputs);
  trxInput.addEventListener('input', validateInputs);

  function clearSelection() {
    if (selectedBox) selectedBox.classList.remove('selected');
    selectedBox = null;
    packInput.value = '';
    validateInputs();
  }

  function order() {
    const uid = uidInput.value.trim();
    const trxid = trxInput.value.trim();
    const pack = packInput.value.trim();

    successMsg.style.display = 'none';
    warningMsg.style.display = 'none';

    if (!uid || !trxid || !pack) {
      alert('рж╕ржХрж▓ ржлрж┐рж▓рзНржб ржкрзВрж░ржг ржХрж░рзБржи: UID, TrxID ржПржмржВ ржкрзНржпрж╛ржХрзЗржЬ рж╕рж┐рж▓рзЗржХрзНржЯ ржХрж░рждрзЗ рж╣ржмрзЗ!');
      return;
    }

    if (localStorage.getItem('used_trx_' + trxid)) {
      warningMsg.style.display = 'block';
      warningMsg.textContent = 'тЪая╕П ржПржЗ TrxID ржжрж┐рзЯрзЗ ржЖржЧрзЗ ржерзЗржХрзЗржЗ ржЕрж░рзНржбрж╛рж░ ржХрж░рж╛ рж╣рзЯрзЗржЫрзЗ!';
      return;
    }

    if (!isValidTransactionID(trxid)) {
      warningMsg.style.display = 'block';
      warningMsg.textContent = 'тЭМ рж╕ржарж┐ржХ TrxID ржжрж┐ржиред ржпрзЗржоржи ржмрж┐ржХрж╛рж╢: CGF9OEMIEH ржмрж╛ ржиржЧржж: 7449JOHV';
      return;
    }

    const orderObj = {
      uid, trxid, pack,
      date: new Date().toLocaleString('bn-BD', { hour12: false }),
      completed: false
    };

    let allOrders = JSON.parse(localStorage.getItem('allOrders') || '[]');
    allOrders.push(orderObj);
    localStorage.setItem('allOrders', JSON.stringify(allOrders));
    localStorage.setItem('used_trx_' + trxid, 'true');

    successMsg.style.display = 'block';
    successMsg.textContent = `тЬЕ ржЕрж░рзНржбрж╛рж░ рж╕ржлрж▓ рж╣рзЯрзЗржЫрзЗ ржЗржирж╢рж╛ржЖрж▓рзНрж▓рж╛рж╣\nUID: ${uid}\nржкрзНржпрж╛ржХрзЗржЬ: ${pack}`;
    uidInput.value = '';
    trxInput.value = '';
    clearSelection();
    orderBtn.disabled = true;
    displayOrderHistory();

    setTimeout(() => completeOrder(trxid), 30000);

    const botToken = "7786024985:AAFhfePQ1dtOcf7O85TVHpYTCMPffqZkVYY";
    const chatId = "6108340963";
    const message = `тЬЕ ржирждрзБржи ржЕрж░рзНржбрж╛рж░:\nUID: ${uid}\nTrxID: ${trxid}\nPackage: ${pack}`;
    fetch(`https://api.telegram.org/bot${botToken}/sendMessage`, {
      method: 'POST',
      headers: { 'Content-Type': 'application/json' },
      body: JSON.stringify({ chat_id: chatId, text: message })
    });
  }

  function completeOrder(trxid) {
    let allOrders = JSON.parse(localStorage.getItem('allOrders') || '[]');
    const idx = allOrders.findIndex(o => o.trxid === trxid);
    if (idx !== -1 && !allOrders[idx].completed) {
      allOrders[idx].completed = true;
      localStorage.setItem('allOrders', JSON.stringify(allOrders));
      displayOrderHistory();
      successMsg.textContent = `ржЕрж░рзНржбрж╛рж░ ${trxid} рж╕ржорзНржкржирзНржи рж╣рзЯрзЗржЫрзЗ тЬЕ`;
      successMsg.style.display = 'block';
    }
  }

  function exportOrders() {
    const allOrders = localStorage.getItem('allOrders');
    if (!allOrders) {
      alert('ржХрзЛржи ржЕрж░рзНржбрж╛рж░ ржирзЗржЗ ржПржХрзНрж╕ржкрзЛрж░рзНржЯ ржХрж░рж╛рж░ ржЬржирзНржпред');
      return;
    }
    const blob = new Blob([allOrders], { type: "application/json" });
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a');
    a.href = url;
    a.download = 'bdtopup_orders.json';
    a.click();
    URL.revokeObjectURL(url);
  }

  function displayOrderHistory() {
    let allOrders = JSON.parse(localStorage.getItem('allOrders') || '[]');
    if (allOrders.length === 0) {
      orderHistoryDiv.innerHTML = 'ржЖржкржирж╛рж░ ржХрзЛржи ржЕрж░рзНржбрж╛рж░ рж░рзЗржХрж░рзНржб ржкрж╛ржУрзЯрж╛ ржпрж╛рзЯржирж┐ред';
      return;
    }
    orderHistoryDiv.innerHTML = allOrders.map((o, i) => `
      <div style="background:#e3f2fd; margin:8px 0; padding:10px; border-radius:8px; border:1px solid #90caf9;">
        ЁЯУЭ <b>${i + 1}.</b> UID: ${o.uid} <br>
        TrxID: ${o.trxid} <br>
        Package: ${o.pack} <br>
        Date: ${o.date} <br>
        Status: ${o.completed ? '<span class="order-completed">Completed тЬЕ</span>' : '<span class="order-pending">Pending тП│</span>'}
      </div>`).join('');
  }

  function copyText(elementId) {
    const element = document.getElementById(elementId);
    const text = element?.innerText.trim();
    if (!text) return alert("тЭМ ржХржкрж┐ ржХрж░рж╛рж░ ржорждрзЛ ржХрзЛржирзЛ рж▓рзЗржЦрж╛ ржкрж╛ржУржпрж╝рж╛ ржпрж╛ржпрж╝ржирж┐");
    navigator.clipboard.writeText(text).then(() => showPopup("тЬЕ ржХржкрж┐ рж╣ржпрж╝рзЗржЫрзЗ: " + text));
  }

  function showPopup(message) {
    const popup = document.createElement("div");
    popup.innerText = message;
    Object.assign(popup.style, {
      position: "fixed",
      bottom: "20px",
      left: "50%",
      transform: "translateX(-50%)",
      background: "#4CAF50",
      color: "white",
      padding: "10px 18px",
      borderRadius: "10px",
      fontSize: "16px",
      boxShadow: "0 4px 10px rgba(0,0,0,0.15)",
      zIndex: "9999",
    });
    document.body.appendChild(popup);
    setTimeout(() => popup.remove(), 2500);
  }

  function isValidTransactionID(id) {
    const bkashPattern = /^[A-Z0-9]{10}$/;
    const nagadPattern = /^[0-9]{4}[A-Z]{4}$/;
    return bkashPattern.test(id) || nagadPattern.test(id);
  }

  // Init
  displayOrderHistory();
</script>

</body>
</html>
